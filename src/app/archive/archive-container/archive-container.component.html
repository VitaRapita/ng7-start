<div class="page-header"><h2>Archief</h2></div>
<button mat-raised-button class="btn btn-blue">
  <a routerLink="/article-review">Artikel review</a>
</button>

<section class="bg-wrapper">
  <mat-form-field class="p-3 input__width--50">
    <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Winkel">
  </mat-form-field>
  <mat-form-field class="p-3 input__width--50">
    <mat-select matNativeControl (selectionChange)="filterByWeek($event.value)" placeholder="Week">
      <mat-option value="28">28</mat-option>
      <mat-option value="32">32</mat-option>
      <mat-option value="33">33</mat-option>
      <mat-option value="36">36</mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field class="p-3 full-width">
    <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
  </mat-form-field>
  <div class="data-table mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" matSort>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Naam </th>
        <td mat-cell *matCellDef="let row">
          <a [routerLink]="'/create/' + row.id">
            {{row.author.first_name}}
          </a>
        </td>
      </ng-container>

      <!-- ID Column -->
      <ng-container matColumnDef="storeId">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Winkel ID </th>
        <td mat-cell *matCellDef="let row"> {{row.store_id}} </td>
      </ng-container>

      <!-- Adapted Column -->
      <ng-container matColumnDef="adapted">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Aangepast op</th>
        <td mat-cell *matCellDef="let row"> {{row.updated | date}} </td>
      </ng-container>

      <!-- Type Column -->
      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Type </th>
        <td mat-cell *matCellDef="let row">
          <img class="grid" [src]="'assets/img/' + row.grid.title + '.png'" [alt]="row.grid.title">
        </td>
      </ng-container>

      <!-- Week Column -->
      <ng-container matColumnDef="week">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Week </th>
        <td mat-cell *matCellDef="let row"> {{row.week}} - {{row.year}} </td>
      </ng-container>

      <!-- Status Column -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
        <td mat-cell *matCellDef="let row"> {{row.state}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;">
      </tr>
    </table>

    <mat-paginator
      [pageIndex]="currentPage"
      [pageSize]="pageSize"
      [length]="totalSize"
      [pageSizeOptions]="[5, 10, 25, 100]"
      (page) = "changePage($event)"
    ></mat-paginator>
  </div>
</section>
